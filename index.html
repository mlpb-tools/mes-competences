<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Mes Comp√©tences - Traducteur de Vie - LS4YOU</title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;500;600;700;800&display=swap" rel="stylesheet">
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        :root {
            --color-primary-red: #E63946;
            --color-primary-yellow: #FFD166;
            --color-primary-turquoise: #06D6A0;
            --color-accent-coral: #FF6B9D;
            --color-white: #FFFFFF;
            --color-bg-light: #F8F9FA;
            --color-text-dark: #1D3557;
            --color-text-medium: #457B9D;
            --color-text-light: #6C757D;
            
            --radius-small: 12px;
            --radius-medium: 20px;
            --radius-large: 30px;
            --radius-xl: 50px;
            
            --shadow-soft: 0 4px 20px rgba(0, 0, 0, 0.08);
            --shadow-medium: 0 8px 30px rgba(0, 0, 0, 0.12);
        }

        body {
            font-family: 'Poppins', sans-serif;
            background: var(--color-white);
            color: var(--color-text-dark);
            position: relative;
            overflow-x: hidden;
        }

        body::before {
            content: '';
            position: fixed;
            top: -10%;
            right: -5%;
            width: 600px;
            height: 600px;
            background: var(--color-primary-yellow);
            opacity: 0.15;
            border-radius: 50%;
            z-index: -1;
            filter: blur(80px);
        }

        body::after {
            content: '';
            position: fixed;
            bottom: -15%;
            left: -10%;
            width: 700px;
            height: 700px;
            background: var(--color-primary-turquoise);
            opacity: 0.12;
            border-radius: 50%;
            z-index: -1;
            filter: blur(90px);
        }

        .app-container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 20px;
        }

        .top-nav {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 15px 0;
            margin-bottom: 30px;
        }

        .logo-small {
            height: 35px;
        }

        .score-badge {
            background: linear-gradient(135deg, var(--color-primary-turquoise), #04B88A);
            color: white;
            padding: 12px 25px;
            border-radius: var(--radius-xl);
            font-weight: 700;
            font-size: 1em;
        }

        .hero {
            background: white;
            border-radius: var(--radius-large);
            padding: 50px 40px;
            text-align: center;
            position: relative;
            overflow: hidden;
            box-shadow: var(--shadow-soft);
            margin-bottom: 30px;
        }

        .hero::before {
            content: '';
            position: absolute;
            top: -50%;
            right: -20%;
            width: 400px;
            height: 400px;
            background: var(--color-primary-yellow);
            opacity: 0.3;
            border-radius: 50%;
            z-index: 0;
        }

        .hero-content {
            position: relative;
            z-index: 1;
        }

        .hero-emoji {
            font-size: 5em;
            margin-bottom: 20px;
            animation: float 3s ease-in-out infinite;
        }

        @keyframes float {
            0%, 100% { transform: translateY(0); }
            50% { transform: translateY(-15px); }
        }

        .hero-title {
            font-size: 2.5em;
            font-weight: 800;
            color: var(--color-text-dark);
            margin-bottom: 15px;
        }

        .hero-subtitle {
            font-size: 1.15em;
            color: var(--color-text-medium);
            font-weight: 500;
            line-height: 1.6;
        }

        .progress-section {
            background: white;
            border-radius: var(--radius-medium);
            padding: 25px;
            margin-bottom: 30px;
            box-shadow: var(--shadow-soft);
        }

        .progress-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 15px;
            flex-wrap: wrap;
            gap: 15px;
        }

        .progress-stat {
            text-align: center;
        }

        .stat-value {
            font-size: 3em;
            font-weight: 800;
            background: linear-gradient(135deg, var(--color-primary-turquoise), var(--color-primary-red));
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            line-height: 1;
            margin-bottom: 5px;
        }

        .stat-label {
            font-size: 0.9em;
            color: var(--color-text-medium);
            font-weight: 600;
        }

        .category-section {
            background: white;
            border-radius: var(--radius-medium);
            padding: 30px;
            margin-bottom: 25px;
            box-shadow: var(--shadow-soft);
        }

        .category-header {
            display: flex;
            align-items: center;
            gap: 15px;
            margin-bottom: 20px;
            cursor: pointer;
            user-select: none;
        }

        .category-emoji {
            font-size: 3em;
        }

        .category-info {
            flex: 1;
        }

        .category-title {
            font-size: 1.6em;
            font-weight: 800;
            color: var(--color-text-dark);
            margin-bottom: 5px;
        }

        .category-description {
            font-size: 0.95em;
            color: var(--color-text-medium);
        }

        .category-toggle {
            font-size: 1.5em;
            color: var(--color-primary-turquoise);
            transition: transform 0.3s ease;
        }

        .category-section.collapsed .category-toggle {
            transform: rotate(-90deg);
        }

        .category-content {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(320px, 1fr));
            gap: 15px;
            margin-top: 20px;
        }

        .category-section.collapsed .category-content {
            display: none;
        }

        .activity-item {
            background: white;
            border: 3px solid #E8E8E8;
            border-radius: var(--radius-medium);
            padding: 20px;
            cursor: pointer;
            transition: all 0.3s ease;
            position: relative;
        }

        .activity-item:hover {
            border-color: var(--color-primary-turquoise);
            transform: translateY(-2px);
            box-shadow: var(--shadow-medium);
        }

        .activity-item.selected {
            background: linear-gradient(135deg, #E8F9F5, #D0F5EB);
            border-color: var(--color-primary-turquoise);
        }

        .activity-checkbox {
            position: absolute;
            top: 15px;
            right: 15px;
            width: 26px;
            height: 26px;
            border: 3px solid #D0D0D0;
            border-radius: 6px;
            background: white;
            transition: all 0.3s ease;
        }

        .activity-item.selected .activity-checkbox {
            background: var(--color-primary-turquoise);
            border-color: var(--color-primary-turquoise);
        }

        .activity-item.selected .activity-checkbox::after {
            content: '‚úì';
            color: white;
            font-weight: 800;
            font-size: 1.3em;
            position: absolute;
            top: -3px;
            left: 4px;
        }

        .activity-title {
            font-weight: 700;
            font-size: 1.05em;
            margin-bottom: 8px;
            color: var(--color-text-dark);
            padding-right: 40px;
        }

        .activity-hint {
            font-size: 0.85em;
            color: var(--color-text-light);
            font-style: italic;
            line-height: 1.4;
        }

        .skills-revealed {
            background: linear-gradient(135deg, #FFF8E6, #FFE69C);
            border-left: 5px solid var(--color-primary-yellow);
            padding: 30px;
            border-radius: var(--radius-medium);
            margin: 30px 0;
        }

        .skills-title {
            font-size: 1.5em;
            font-weight: 800;
            color: var(--color-text-dark);
            margin-bottom: 20px;
        }

        .skills-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(200px, 1fr));
            gap: 15px;
        }

        .skill-category {
            background: white;
            border-radius: var(--radius-medium);
            padding: 20px;
        }

        .skill-category-title {
            font-weight: 700;
            font-size: 1.1em;
            color: var(--color-primary-turquoise);
            margin-bottom: 12px;
        }

        .skill-tag {
            display: inline-block;
            background: var(--color-bg-light);
            padding: 8px 15px;
            border-radius: var(--radius-xl);
            margin: 4px;
            font-size: 0.85em;
            font-weight: 600;
            color: var(--color-text-dark);
        }

        .btn {
            border: none;
            border-radius: var(--radius-xl);
            font-size: 1.1em;
            font-weight: 700;
            cursor: pointer;
            transition: all 0.3s ease;
            font-family: 'Poppins', sans-serif;
        }

        .btn-primary {
            background: linear-gradient(135deg, var(--color-primary-red), #D62839);
            color: white;
            padding: 18px 45px;
            width: 100%;
            box-shadow: 0 4px 15px rgba(230, 57, 70, 0.3);
        }

        .btn-primary:hover {
            transform: translateY(-3px);
            box-shadow: 0 8px 25px rgba(230, 57, 70, 0.4);
        }

        .btn-primary:disabled {
            opacity: 0.5;
            cursor: not-allowed;
        }

        .footer {
            background: white;
            border-radius: var(--radius-medium);
            padding: 25px;
            margin-top: 40px;
            text-align: center;
            box-shadow: var(--shadow-soft);
        }

        .footer-content {
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 20px;
            flex-wrap: wrap;
            color: var(--color-text-medium);
            font-size: 0.9em;
        }

        .eu-flag {
            width: 50px;
        }

        .hidden {
            display: none !important;
        }

        @media (max-width: 768px) {
            .app-container {
                padding: 15px;
            }

            .hero {
                padding: 40px 25px;
            }

            .hero-title {
                font-size: 2em;
            }

            .category-content {
                grid-template-columns: 1fr;
            }

            .skills-grid {
                grid-template-columns: 1fr;
            }

            .progress-header {
                flex-direction: column;
            }
        }

        .puzzle-decoration {
            position: absolute;
            bottom: 20px;
            left: 20px;
            width: 60px;
            height: 60px;
            opacity: 0.15;
        }
    </style>
</head>
<body>
    <div class="app-container">
        <nav class="top-nav">
            <img src="https://www.lifeskills4you.eu/wp-content/uploads/2024/07/LS4YOU_Logo.png" alt="LS4YOU" class="logo-small">
            <div class="score-badge" id="scoreBadge">
                <span id="scoreCount">0</span> / <span id="totalActivities">120</span> activit√©s
            </div>
        </nav>

        <div class="hero" id="introScreen">
            <div class="hero-content">
                <div class="hero-emoji">üíé</div>
                <h1 class="hero-title">MES COMP√âTENCES</h1>
                <p class="hero-subtitle">
                    Le Traducteur de Vie Quotidienne<br>
                    <strong>R√©v√®le tes super-pouvoirs cach√©s dans chaque geste du quotidien</strong>
                </p>
                <button class="btn btn-primary" onclick="startActivity()" style="font-size: 1.3em; padding: 25px 60px; margin-top: 30px;">
                    D√©couvrir mes comp√©tences ‚Üí
                </button>
            </div>
        </div>

        <div id="mainContent" class="hidden">
            <div class="progress-section">
                <div class="progress-header">
                    <div class="progress-stat">
                        <div class="stat-value" id="activitiesCount">0</div>
                        <div class="stat-label">Activit√©s identifi√©es</div>
                    </div>
                    <div class="progress-stat">
                        <div class="stat-value" id="skillsCount">0</div>
                        <div class="stat-label">Comp√©tences r√©v√©l√©es</div>
                    </div>
                    <div class="progress-stat">
                        <div class="stat-value" id="categoriesCount">0</div>
                        <div class="stat-label">Cat√©gories ma√Ætris√©es</div>
                    </div>
                </div>
            </div>

            <div id="categoriesContainer"></div>

            <div id="skillsSummary" class="hidden"></div>

            <button class="btn btn-primary" id="exportBtn" onclick="exportProfile()" disabled style="margin-top: 30px;">
                üìÑ Exporter mon profil complet
            </button>
        </div>

        <div class="footer">
            <div class="footer-content">
                <img src="https://upload.wikimedia.org/wikipedia/commons/b/b7/Flag_of_Europe.svg" alt="UE" class="eu-flag">
                <span>Co-financ√© par l'Union Europ√©enne</span>
                <span>¬© 2026 Projet LS4YOU ‚Ä¢ D√©tecteur de Talents</span>
            </div>
        </div>
    </div>

    <script>
        // COMPREHENSIVE DATABASE - 120+ activities across all life domains
        const competencesData = [
            {
                emoji: "üéÆ",
                title: "Loisirs Num√©riques & Gaming",
                description: "Les jeux et activit√©s num√©riques d√©veloppent des comp√©tences strat√©giques et techniques",
                activities: [
                    { title: "Jouer √† des jeux vid√©o en √©quipe (Fortnite, Valorant, League of Legends)", hint: "Ex: Coordonner avec tes co√©quipiers, adapter ta strat√©gie", skills: ["Travail en √©quipe", "Communication", "R√©activit√©", "Gestion du stress", "Adaptabilit√©"] },
                    { title: "Streamer ou cr√©er du contenu gaming (Twitch, YouTube)", hint: "Ex: Animer un live, interagir avec le chat", skills: ["Communication", "Cr√©ativit√©", "Pers√©v√©rance", "Animation", "Gestion de communaut√©"] },
                    { title: "√ätre membre d'une team esport ou clan", hint: "Ex: S'entra√Æner r√©guli√®rement, respecter les horaires", skills: ["Engagement", "Discipline", "Esprit d'√©quipe", "Fiabilit√©", "Organisation"] },
                    { title: "Cr√©er des montages vid√©o (TikTok, Reels, YouTube)", hint: "Ex: √âditer, ajouter des effets, choisir la musique", skills: ["Cr√©ativit√©", "Sens esth√©tique", "Ma√Ætrise technique", "Patience", "Attention aux d√©tails"] },
                    { title: "G√©rer un compte de r√©seau social avec des abonn√©s", hint: "Ex: Publier r√©guli√®rement, r√©pondre aux commentaires", skills: ["Communication", "R√©gularit√©", "Marketing", "Gestion de contenu", "Relation client"] },
                    { title: "Mod√©rer un serveur Discord ou une communaut√© en ligne", hint: "Ex: Faire respecter les r√®gles, g√©rer les conflits", skills: ["M√©diation", "Autorit√©", "Communication", "Gestion de conflit", "Diplomatie"] },
                    { title: "Faire du leveling ou farming dans des MMO", hint: "Ex: Atteindre des objectifs √† long terme", skills: ["Pers√©v√©rance", "Gestion du temps", "T√©nacit√©", "Organisation", "Planification"] },
                    { title: "Participer √† des raids ou donjons complexes", hint: "Ex: Comprendre les m√©caniques, coordonner les r√¥les", skills: ["Strat√©gie", "Travail en √©quipe", "Leadership", "Analyse", "Coordination"] }
                ]
            },
            {
                emoji: "üì±",
                title: "Cr√©ation de Contenu Digital",
                description: "Produire du contenu en ligne forge des comp√©tences marketing et cr√©atives",
                activities: [
                    { title: "Cr√©er et √©diter des photos (retouche, filtres, composition)", hint: "Ex: Instagram, VSCO, Lightroom", skills: ["Cr√©ativit√©", "Sens esth√©tique", "Ma√Ætrise technique", "Patience", "≈íil critique"] },
                    { title: "√âcrire un blog ou des articles en ligne", hint: "Ex: Partager ton expertise, structurer tes id√©es", skills: ["Expression √©crite", "Organisation", "Cr√©ativit√©", "Pers√©v√©rance", "Communication"] },
                    { title: "Cr√©er des designs graphiques (logos, affiches, flyers)", hint: "Ex: Canva, Photoshop, Figma", skills: ["Cr√©ativit√©", "Sens esth√©tique", "Ma√Ætrise logiciels", "Pr√©cision", "Innovation"] },
                    { title: "Faire du podcasting ou de la cr√©ation audio", hint: "Ex: Enregistrer, monter, publier des √©pisodes", skills: ["Expression orale", "Technique", "R√©gularit√©", "Communication", "Storytelling"] },
                    { title: "Animer une cha√Æne YouTube √©ducative ou de divertissement", hint: "Ex: Sc√©nariser, filmer, √©diter, optimiser SEO", skills: ["Communication", "Organisation", "Cr√©ativit√©", "Marketing", "Pers√©v√©rance"] },
                    { title: "G√©rer une boutique en ligne (Etsy, Vinted, Shopify)", hint: "Ex: Photos produits, descriptions, service client", skills: ["Sens commercial", "Communication", "Organisation", "Marketing", "Relation client"] },
                    { title: "Cr√©er des tutoriels ou du contenu √©ducatif", hint: "Ex: Expliquer clairement, rendre accessible", skills: ["P√©dagogie", "Communication", "Patience", "Clart√©", "Empathie"] }
                ]
            },
            {
                emoji: "üèãÔ∏è",
                title: "Sport & Activit√© Physique",
                description: "Le sport d√©veloppe discipline, pers√©v√©rance et esprit d'√©quipe",
                activities: [
                    { title: "Pratiquer un sport d'√©quipe r√©guli√®rement (foot, basket, volley)", hint: "Ex: Entra√Ænements, matchs, coh√©sion", skills: ["Esprit d'√©quipe", "Communication", "Discipline", "Pers√©v√©rance", "Solidarit√©"] },
                    { title: "S'entra√Æner en salle de sport ou √† la maison", hint: "Ex: Programme r√©gulier, progression", skills: ["Discipline", "Pers√©v√©rance", "Organisation", "Gestion du temps", "T√©nacit√©"] },
                    { title: "Pratiquer un sport individuel (course, natation, cyclisme)", hint: "Ex: Objectifs personnels, d√©passement", skills: ["Autodiscipline", "Pers√©v√©rance", "Gestion du stress", "D√©passement de soi", "Rigueur"] },
                    { title: "Entra√Æner ou coacher des jeunes dans un sport", hint: "Ex: Transmettre, encourager, organiser", skills: ["P√©dagogie", "Leadership", "Patience", "Communication", "Motivation"] },
                    { title: "Participer √† des comp√©titions sportives", hint: "Ex: Gestion du stress, performance sous pression", skills: ["Gestion du stress", "Esprit de comp√©tition", "R√©silience", "Pr√©paration", "Mental"] },
                    { title: "Organiser des √©v√©nements sportifs (tournois, courses)", hint: "Ex: Logistique, inscriptions, r√®glement", skills: ["Organisation", "Gestion de projet", "Leadership", "Coordination", "Planification"] },
                    { title: "Pratiquer un art martial ou sport de combat", hint: "Ex: Respect, discipline, ma√Ætrise de soi", skills: ["Discipline", "Respect", "Ma√Ætrise de soi", "Concentration", "Pers√©v√©rance"] },
                    { title: "Faire partie d'un club ou association sportive", hint: "Ex: Engagement, r√©gularit√©, responsabilit√©s", skills: ["Engagement", "Fiabilit√©", "Esprit d'√©quipe", "Ponctualit√©", "Loyaut√©"] }
                ]
            },
            {
                emoji: "üé®",
                title: "Arts & Cr√©ativit√©",
                description: "L'expression artistique forge cr√©ativit√© et pers√©v√©rance",
                activities: [
                    { title: "Dessiner, peindre ou cr√©er des illustrations", hint: "Ex: Art digital, traditionnel, graffiti", skills: ["Cr√©ativit√©", "Patience", "Pers√©v√©rance", "Sens esth√©tique", "Pr√©cision"] },
                    { title: "Faire de la photographie artistique ou professionnelle", hint: "Ex: Composition, lumi√®re, retouche", skills: ["Cr√©ativit√©", "≈íil artistique", "Technique", "Patience", "Sens de l'observation"] },
                    { title: "Customiser ou modifier des v√™tements (DIY mode)", hint: "Ex: Couture, peinture textile, upcycling", skills: ["Cr√©ativit√©", "Pr√©cision", "D√©brouillardise", "Sens esth√©tique", "Innovation"] },
                    { title: "Cr√©er des objets d√©co ou du mobilier (DIY)", hint: "Ex: Bricolage cr√©atif, r√©cup, relooking", skills: ["Cr√©ativit√©", "D√©brouillardise", "Pr√©cision", "Planification", "Patience"] },
                    { title: "Faire de la poterie, sculpture ou modelage", hint: "Ex: Patience, r√©p√©tition, ma√Ætrise du geste", skills: ["Patience", "Pr√©cision", "Cr√©ativit√©", "Pers√©v√©rance", "Concentration"] },
                    { title: "Pratiquer le street art ou le graffiti", hint: "Ex: Style, technique, gestion de l'espace", skills: ["Cr√©ativit√©", "Audace", "Technique", "Sens de l'espace", "Expression"] },
                    { title: "R√©aliser des maquettes ou miniatures", hint: "Ex: Pr√©cision, patience, attention au d√©tail", skills: ["Pr√©cision", "Patience", "Attention aux d√©tails", "Minutie", "Concentration"] }
                ]
            },
            {
                emoji: "üéµ",
                title: "Musique & Performance",
                description: "La musique d√©veloppe discipline et expression",
                activities: [
                    { title: "Jouer d'un instrument de musique", hint: "Ex: Guitare, piano, batterie", skills: ["Discipline", "Pers√©v√©rance", "Coordination", "Cr√©ativit√©", "Patience"] },
                    { title: "Chanter ou rapper (enregistrement, performance)", hint: "Ex: √âcrire des textes, travailler sa voix", skills: ["Expression", "Cr√©ativit√©", "Confiance en soi", "Pers√©v√©rance", "Communication"] },
                    { title: "Composer ou produire de la musique (MAO)", hint: "Ex: Logiciels type FL Studio, Ableton", skills: ["Cr√©ativit√©", "Technique", "Patience", "Innovation", "Sens du rythme"] },
                    { title: "Faire partie d'un groupe de musique", hint: "Ex: R√©p√©titions, concerts, collaboration", skills: ["Travail en √©quipe", "Discipline", "Communication", "Engagement", "Fiabilit√©"] },
                    { title: "Organiser des concerts ou √©v√©nements musicaux", hint: "Ex: Logistique, promo, gestion technique", skills: ["Organisation", "Gestion de projet", "Leadership", "Coordination", "Planification"] },
                    { title: "Faire du DJing ou mixer de la musique", hint: "Ex: Lecture du public, transitions, ambiance", skills: ["Adaptabilit√©", "Sens du rythme", "Cr√©ativit√©", "Lecture du public", "Technique"] },
                    { title: "Enseigner la musique ou donner des cours", hint: "Ex: Transmettre, encourager, adapter", skills: ["P√©dagogie", "Patience", "Communication", "Empathie", "Adaptabilit√©"] }
                ]
            },
            {
                emoji: "‚úçÔ∏è",
                title: "√âcriture & Expression",
                description: "L'√©criture d√©veloppe communication et cr√©ativit√©",
                activities: [
                    { title: "√âcrire des po√®mes, nouvelles ou romans", hint: "Ex: Fiction, autobiographie, slam", skills: ["Cr√©ativit√©", "Expression", "Pers√©v√©rance", "Imagination", "Sensibilit√©"] },
                    { title: "√âcrire des textes de rap ou de chansons", hint: "Ex: Rimes, flow, message", skills: ["Cr√©ativit√©", "Expression", "Technique", "Originalit√©", "Communication"] },
                    { title: "Tenir un journal intime ou carnet cr√©atif", hint: "Ex: R√©gularit√©, introspection", skills: ["R√©gularit√©", "Introspection", "Expression", "Organisation", "Discipline"] },
                    { title: "R√©diger des critiques (films, s√©ries, livres, jeux)", hint: "Ex: Analyser, argumenter, structurer", skills: ["Esprit critique", "Argumentation", "Expression √©crite", "Analyse", "Clart√©"] },
                    { title: "Cr√©er des sc√©narios ou scripts (vid√©o, th√©√¢tre)", hint: "Ex: Structure narrative, dialogues", skills: ["Cr√©ativit√©", "Organisation", "Storytelling", "Imagination", "Structuration"] },
                    { title: "Participer √† des concours d'√©criture ou slam", hint: "Ex: Confiance, performance, cr√©ativit√©", skills: ["Confiance en soi", "Expression", "Cr√©ativit√©", "Courage", "Performance"] }
                ]
            },
            {
                emoji: "üë•",
                title: "Engagement Associatif",
                description: "S'engager dans une association forge leadership et empathie",
                activities: [
                    { title: "√ätre b√©n√©vole dans une association", hint: "Ex: Restos du C≈ìur, Croix-Rouge, asso locale", skills: ["Empathie", "Engagement", "Solidarit√©", "Fiabilit√©", "Altruisme"] },
                    { title: "Organiser des collectes ou √©v√©nements caritatifs", hint: "Ex: Planification, mobilisation, logistique", skills: ["Organisation", "Leadership", "Communication", "Mobilisation", "Gestion de projet"] },
                    { title: "√ätre membre actif d'un conseil de jeunes", hint: "Ex: Proposer, d√©battre, d√©cider", skills: ["Engagement citoyen", "Argumentation", "Leadership", "Esprit d√©mocratique", "Initiative"] },
                    { title: "Encadrer des activit√©s pour enfants (centre a√©r√©, scoutisme)", hint: "Ex: S√©curit√©, animation, responsabilit√©", skills: ["Responsabilit√©", "P√©dagogie", "Patience", "Autorit√© bienveillante", "Cr√©ativit√©"] },
                    { title: "Militer ou s'engager pour une cause", hint: "Ex: √âcologie, droits, justice sociale", skills: ["Engagement", "Conviction", "Pers√©v√©rance", "Communication", "Courage"] },
                    { title: "Participer √† des projets de quartier ou initiatives citoyennes", hint: "Ex: Am√©lioration locale, coh√©sion", skills: ["Initiative", "Collaboration", "Engagement", "Communication", "Sens collectif"] },
                    { title: "Faire du mentorat ou accompagner des jeunes", hint: "Ex: √âcoute, conseil, orientation", skills: ["Empathie", "√âcoute active", "P√©dagogie", "Bienveillance", "Communication"] }
                ]
            },
            {
                emoji: "üíº",
                title: "Petits Boulots & Jobs",
                description: "Chaque exp√©rience de travail compte et d√©veloppe du professionnalisme",
                activities: [
                    { title: "Faire du baby-sitting r√©guli√®rement", hint: "Ex: Garde d'enfants, s√©curit√©, activit√©s", skills: ["Responsabilit√©", "Patience", "Adaptabilit√©", "Gestion de crise", "Cr√©ativit√©"] },
                    { title: "Donner des cours particuliers ou du soutien scolaire", hint: "Ex: Expliquer, adapter, encourager", skills: ["P√©dagogie", "Patience", "Communication", "Adaptabilit√©", "Empathie"] },
                    { title: "Travailler en restauration (serveur, caisse, cuisine)", hint: "Ex: Gestion du rush, service client", skills: ["Gestion du stress", "Rapidit√©", "Sens du service", "Travail en √©quipe", "Polyvalence"] },
                    { title: "Travailler dans la vente (magasin, march√©)", hint: "Ex: Conseil client, encaissement, rangement", skills: ["Relation client", "Communication", "Sens commercial", "Organisation", "Amabilit√©"] },
                    { title: "Faire de la livraison (Uber Eats, Deliveroo, coursier)", hint: "Ex: Ponctualit√©, orientation, gestion", skills: ["Ponctualit√©", "Autonomie", "Gestion du temps", "Sens de l'orientation", "Fiabilit√©"] },
                    { title: "Travailler en grande surface (mise en rayon, caisse)", hint: "Ex: Organisation, rigueur, service", skills: ["Organisation", "Rigueur", "Sens du service", "Ponctualit√©", "Efficacit√©"] },
                    { title: "Aider dans l'entreprise ou commerce familial", hint: "Ex: Polyvalence, engagement, s√©rieux", skills: ["Polyvalence", "Fiabilit√©", "Sens des responsabilit√©s", "Adaptabilit√©", "Engagement"] },
                    { title: "Faire des jobs saisonniers (√©t√©, vendanges, animation)", hint: "Ex: Adaptabilit√© rapide, intensit√©", skills: ["Adaptabilit√©", "R√©sistance physique", "Travail en √©quipe", "Flexibilit√©", "√ânergie"] }
                ]
            },
            {
                emoji: "üè†",
                title: "Autonomie & Vie Quotidienne",
                description: "G√©rer son quotidien d√©veloppe responsabilit√© et organisation",
                activities: [
                    { title: "Vivre seul¬∑e (g√©rer un logement, factures, courses)", hint: "Ex: Autonomie compl√®te, gestion", skills: ["Autonomie", "Responsabilit√©", "Organisation", "Gestion budg√©taire", "Anticipation"] },
                    { title: "G√©rer un budget personnel (suivi d√©penses, √©conomies)", hint: "Ex: Comptes, objectifs financiers", skills: ["Gestion budg√©taire", "Rigueur", "Anticipation", "Planification", "Autodiscipline"] },
                    { title: "Cuisiner r√©guli√®rement pour soi ou sa famille", hint: "Ex: Courses, recettes, organisation", skills: ["Organisation", "Cr√©ativit√©", "Gestion du temps", "Autonomie", "Planification"] },
                    { title: "Entretenir son logement (m√©nage, rangement, petites r√©parations)", hint: "Ex: R√©gularit√©, soin, d√©brouillardise", skills: ["R√©gularit√©", "Organisation", "D√©brouillardise", "Rigueur", "Autonomie"] },
                    { title: "Faire ses d√©marches administratives seul¬∑e (CAF, s√©cu, imp√¥ts)", hint: "Ex: Papiers, rendez-vous, suivi", skills: ["Autonomie", "Organisation", "Rigueur", "Pers√©v√©rance", "Compr√©hension"] },
                    { title: "G√©rer ses rendez-vous m√©dicaux et sa sant√©", hint: "Ex: Pr√©voyance, suivi, responsabilit√©", skills: ["Responsabilit√©", "Organisation", "Pr√©voyance", "Autonomie", "Soin de soi"] },
                    { title: "Prendre soin d'un animal de compagnie", hint: "Ex: R√©gularit√©, engagement, responsabilit√©", skills: ["Responsabilit√©", "R√©gularit√©", "Empathie", "Engagement", "Anticipation"] },
                    { title: "S'occuper r√©guli√®rement de fr√®res/s≈ìurs ou proches", hint: "Ex: Aide, soutien, responsabilit√©", skills: ["Responsabilit√©", "Empathie", "Patience", "Adaptabilit√©", "Fiabilit√©"] }
                ]
            },
            {
                emoji: "üîß",
                title: "Bricolage & Technique",
                description: "R√©parer et cr√©er d√©veloppe d√©brouillardise et logique",
                activities: [
                    { title: "R√©parer des objets (√©lectronique, m√©canique, mobilier)", hint: "Ex: Diagnostic, recherche, r√©paration", skills: ["D√©brouillardise", "Logique", "Pers√©v√©rance", "R√©solution de probl√®mes", "Minutie"] },
                    { title: "Entretenir ou r√©parer un v√©lo/scooter/moto", hint: "Ex: M√©canique, outils, entretien", skills: ["Technique", "Autonomie", "D√©brouillardise", "Logique", "Pr√©cision"] },
                    { title: "Monter des meubles ou faire des travaux simples", hint: "Ex: Instructions, outils, pr√©cision", skills: ["Organisation", "Logique", "Pr√©cision", "Patience", "Lecture de plans"] },
                    { title: "R√©parer ou upgrader un ordinateur/smartphone", hint: "Ex: Composants, d√©pannage, optimisation", skills: ["Technique", "Logique", "Recherche d'info", "Pr√©cision", "R√©solution de probl√®mes"] },
                    { title: "Cr√©er des objets en √©lectronique (Arduino, Raspberry Pi)", hint: "Ex: Programmation, montage, tests", skills: ["Technique", "Logique", "Cr√©ativit√©", "Pers√©v√©rance", "Innovation"] },
                    { title: "Faire de la r√©cup et upcycling (donner nouvelle vie)", hint: "Ex: Cr√©ativit√©, transformation, √©cologie", skills: ["Cr√©ativit√©", "D√©brouillardise", "√âcologie", "Vision", "Patience"] }
                ]
            },
            {
                emoji: "üå±",
                title: "√âcologie & Nature",
                description: "S'engager pour la plan√®te d√©veloppe conscience et initiative",
                activities: [
                    { title: "Jardiner ou cultiver (potager, plantes, permaculture)", hint: "Ex: Patience, observation, soin", skills: ["Patience", "Observation", "R√©gularit√©", "Soin", "Planification"] },
                    { title: "Participer √† des actions √©cologiques (clean-up, plantation)", hint: "Ex: Engagement, action collective", skills: ["Engagement", "Conscience √©cologique", "Initiative", "Esprit collectif", "Action"] },
                    { title: "Pratiquer le z√©ro d√©chet ou mode de vie √©colo", hint: "Ex: Organisation, alternatives, cr√©ativit√©", skills: ["Organisation", "Cr√©ativit√©", "Conviction", "Pers√©v√©rance", "Recherche"] },
                    { title: "Faire du compost ou recycler activement", hint: "Ex: Tri, organisation, r√©gularit√©", skills: ["Organisation", "R√©gularit√©", "Conscience √©cologique", "Rigueur", "Responsabilit√©"] }
                ]
            },
            {
                emoji: "üìö",
                title: "Apprentissage & Formation",
                description: "Se former en continu montre curiosit√© et ambition",
                activities: [
                    { title: "Apprendre une langue √©trang√®re seul¬∑e (apps, films, livres)", hint: "Ex: R√©gularit√©, pers√©v√©rance", skills: ["Autodiscipline", "Pers√©v√©rance", "Curiosit√©", "Organisation", "Ouverture d'esprit"] },
                    { title: "Suivre des formations en ligne (YouTube, MOOC, tutos)", hint: "Ex: Autonomie, apprentissage actif", skills: ["Autonomie", "Curiosit√©", "Pers√©v√©rance", "Autodiscipline", "Adaptabilit√©"] },
                    { title: "Lire r√©guli√®rement (livres, articles, mangas)", hint: "Ex: Curiosit√©, ouverture, concentration", skills: ["Curiosit√©", "Concentration", "Ouverture d'esprit", "Culture g√©n√©rale", "Patience"] },
                    { title: "D√©velopper une expertise dans un domaine pr√©cis", hint: "Ex: Approfondissement, passion, ma√Ætrise", skills: ["Pers√©v√©rance", "Expertise", "Passion", "Rigueur", "Curiosit√©"] },
                    { title: "Passer le permis de conduire", hint: "Ex: Apprentissage, investissement, pers√©v√©rance", skills: ["Pers√©v√©rance", "Investissement", "Concentration", "Autonomie", "Responsabilit√©"] }
                ]
            }
        ];

        // STATE
        let selectedActivities = new Set();
        let revealedSkills = new Map(); // skill -> count
        let categoriesWithActivities = new Set();

        // Initialize
        function startActivity() {
            document.getElementById('introScreen').classList.add('hidden');
            document.getElementById('mainContent').classList.remove('hidden');
            loadCategories();
        }

        function loadCategories() {
            const container = document.getElementById('categoriesContainer');
            let html = '';

            competencesData.forEach((category, catIdx) => {
                html += `
                    <div class="category-section" id="category-${catIdx}">
                        <div class="category-header" onclick="toggleCategory(${catIdx})">
                            <div class="category-emoji">${category.emoji}</div>
                            <div class="category-info">
                                <div class="category-title">${category.title}</div>
                                <div class="category-description">${category.description}</div>
                            </div>
                            <div class="category-toggle">‚ñº</div>
                        </div>
                        <div class="category-content">
                            ${category.activities.map((activity, actIdx) => `
                                <div class="activity-item" onclick="toggleActivity(${catIdx}, ${actIdx})">
                                    <div class="activity-checkbox"></div>
                                    <div class="activity-title">${activity.title}</div>
                                    <div class="activity-hint">${activity.hint}</div>
                                </div>
                            `).join('')}
                        </div>
                        <svg class="puzzle-decoration" viewBox="0 0 100 100" xmlns="http://www.w3.org/2000/svg">
                            <path d="M50 0 L100 50 L50 100 L0 50 Z" fill="#06D6A0"/>
                        </svg>
                    </div>
                `;
            });

            container.innerHTML = html;
            updateTotalActivities();
        }

        function toggleCategory(catIdx) {
            const category = document.getElementById(`category-${catIdx}`);
            category.classList.toggle('collapsed');
        }

        function toggleActivity(catIdx, actIdx) {
            const activity = competencesData[catIdx].activities[actIdx];
            const activityId = `${catIdx}-${actIdx}`;
            
            const categories = document.querySelectorAll('.category-section');
            const categoryElement = categories[catIdx];
            const items = categoryElement.querySelectorAll('.activity-item');
            const item = items[actIdx];
            
            if (selectedActivities.has(activityId)) {
                // Deselect
                selectedActivities.delete(activityId);
                item.classList.remove('selected');
                
                // Remove skills
                activity.skills.forEach(skill => {
                    const count = revealedSkills.get(skill) || 0;
                    if (count <= 1) {
                        revealedSkills.delete(skill);
                    } else {
                        revealedSkills.set(skill, count - 1);
                    }
                });
                
                // Check if category still has activities
                const catActivities = Array.from(selectedActivities).filter(id => id.startsWith(`${catIdx}-`));
                if (catActivities.length === 0) {
                    categoriesWithActivities.delete(catIdx);
                }
            } else {
                // Select
                selectedActivities.add(activityId);
                item.classList.add('selected');
                categoriesWithActivities.add(catIdx);
                
                // Add skills
                activity.skills.forEach(skill => {
                    revealedSkills.set(skill, (revealedSkills.get(skill) || 0) + 1);
                });
            }
            
            updateUI();
        }

        function updateUI() {
            // Update stats
            document.getElementById('scoreCount').textContent = selectedActivities.size;
            document.getElementById('activitiesCount').textContent = selectedActivities.size;
            document.getElementById('skillsCount').textContent = revealedSkills.size;
            document.getElementById('categoriesCount').textContent = categoriesWithActivities.size;
            
            // Update export button
            document.getElementById('exportBtn').disabled = selectedActivities.size === 0;
            
            // Update skills summary
            updateSkillsSummary();
        }

        function updateSkillsSummary() {
            const summary = document.getElementById('skillsSummary');
            
            if (revealedSkills.size === 0) {
                summary.classList.add('hidden');
                return;
            }
            
            summary.classList.remove('hidden');
            
            // Group skills by category
            const skillsByType = {
                "Soft Skills": [],
                "Comp√©tences Techniques": [],
                "Qualit√©s Personnelles": []
            };
            
            const softSkills = ["Communication", "Travail en √©quipe", "Adaptabilit√©", "Cr√©ativit√©", "Leadership", "Empathie", "P√©dagogie", "M√©diation", "Diplomatie", "√âcoute active"];
            const technical = ["Ma√Ætrise technique", "Ma√Ætrise logiciels", "Technique", "Pr√©cision", "Logique", "Programmation", "Sens esth√©tique"];
            
            revealedSkills.forEach((count, skill) => {
                if (softSkills.includes(skill)) {
                    skillsByType["Soft Skills"].push(skill);
                } else if (technical.includes(skill)) {
                    skillsByType["Comp√©tences Techniques"].push(skill);
                } else {
                    skillsByType["Qualit√©s Personnelles"].push(skill);
                }
            });
            
            let html = '<div class="skills-revealed">';
            html += '<div class="skills-title">üéØ Ton Capital Comp√©tences</div>';
            html += '<div class="skills-grid">';
            
            Object.entries(skillsByType).forEach(([type, skills]) => {
                if (skills.length > 0) {
                    html += `
                        <div class="skill-category">
                            <div class="skill-category-title">${type}</div>
                            ${skills.map(skill => `<span class="skill-tag">${skill}</span>`).join('')}
                        </div>
                    `;
                }
            });
            
            html += '</div></div>';
            summary.innerHTML = html;
        }

        function updateTotalActivities() {
            const total = competencesData.reduce((sum, cat) => sum + cat.activities.length, 0);
            document.getElementById('totalActivities').textContent = total;
        }

        function exportProfile() {
            // Create comprehensive profile text
            let profile = "MON PROFIL DE COMP√âTENCES - LS4YOU\n";
            profile += "=".repeat(50) + "\n\n";
            profile += `Date: ${new Date().toLocaleDateString('fr-FR')}\n\n`;
            profile += `üìä R√âSUM√â\n`;
            profile += `   ‚Ä¢ ${selectedActivities.size} activit√©s identifi√©es\n`;
            profile += `   ‚Ä¢ ${revealedSkills.size} comp√©tences r√©v√©l√©es\n`;
            profile += `   ‚Ä¢ ${categoriesWithActivities.size} domaines d'expertise\n\n`;
            
            profile += `üíé MES COMP√âTENCES CL√âS\n`;
            const sortedSkills = Array.from(revealedSkills.entries()).sort((a, b) => b[1] - a[1]);
            sortedSkills.forEach(([skill, count]) => {
                profile += `   ‚Ä¢ ${skill} (confirm√©e par ${count} activit√©${count > 1 ? 's' : ''})\n`;
            });
            
            profile += `\nüìã MES ACTIVIT√âS PAR DOMAINE\n`;
            competencesData.forEach((category, catIdx) => {
                const catActivities = category.activities.filter((_, actIdx) => 
                    selectedActivities.has(`${catIdx}-${actIdx}`)
                );
                
                if (catActivities.length > 0) {
                    profile += `\n${category.emoji} ${category.title.toUpperCase()}\n`;
                    catActivities.forEach(activity => {
                        profile += `   ‚úì ${activity.title}\n`;
                    });
                }
            });
            
            profile += `\n${"=".repeat(50)}\n`;
            profile += `Projet LS4YOU - Life Skills For Youth\n`;
            profile += `Co-financ√© par l'Union Europ√©enne\n`;
            
            // Download
            const blob = new Blob([profile], { type: 'text/plain' });
            const url = URL.createObjectURL(blob);
            const a = document.createElement('a');
            a.href = url;
            a.download = `Mon_Profil_Competences_${new Date().toISOString().split('T')[0]}.txt`;
            a.click();
            URL.revokeObjectURL(url);
        }
    </script>
</body>
</html>
