<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Mes Comp√©tences - Auto-diagnostic Mission Locale Pays Basque</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        :root {
            --mlpb-blue: #0066CC;
            --mlpb-light-blue: #E6F2FF;
            --mlpb-dark: #1a1a1a;
            --mlpb-gray: #666;
            --mlpb-light-gray: #f5f5f5;
            --success: #28a745;
            --warning: #ffc107;
            --danger: #dc3545;
        }

        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background: linear-gradient(135deg, var(--mlpb-light-blue) 0%, #ffffff 100%);
            min-height: 100vh;
            padding: 20px;
            color: var(--mlpb-dark);
        }

        .container {
            max-width: 900px;
            margin: 0 auto;
            background: white;
            border-radius: 16px;
            box-shadow: 0 8px 32px rgba(0, 102, 204, 0.15);
            overflow: hidden;
        }

        header {
            background: var(--mlpb-blue);
            color: white;
            padding: 30px;
            text-align: center;
        }

        header h1 {
            font-size: 2em;
            margin-bottom: 10px;
        }

        header p {
            font-size: 1.1em;
            opacity: 0.95;
        }

        .progress-bar {
            background: var(--mlpb-light-gray);
            height: 8px;
            margin: 20px 30px;
            border-radius: 4px;
            overflow: hidden;
        }

        .progress-fill {
            height: 100%;
            background: linear-gradient(90deg, var(--mlpb-blue), #0088ff);
            width: 0%;
            transition: width 0.4s ease;
        }

        .progress-text {
            text-align: center;
            color: var(--mlpb-gray);
            font-size: 0.9em;
            margin-top: 8px;
        }

        .question-container {
            padding: 40px 30px;
            display: none;
        }

        .question-container.active {
            display: block;
            animation: fadeIn 0.5s ease;
        }

        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(20px); }
            to { opacity: 1; transform: translateY(0); }
        }

        .question-header {
            margin-bottom: 30px;
        }

        .question-number {
            color: var(--mlpb-blue);
            font-weight: bold;
            font-size: 0.9em;
            margin-bottom: 10px;
        }

        .question-title {
            font-size: 1.6em;
            font-weight: 600;
            color: var(--mlpb-dark);
            margin-bottom: 15px;
        }

        .situation-box {
            background: var(--mlpb-light-blue);
            border-left: 4px solid var(--mlpb-blue);
            padding: 20px;
            margin: 20px 0;
            border-radius: 8px;
        }

        .situation-box strong {
            color: var(--mlpb-blue);
            display: block;
            margin-bottom: 10px;
            font-size: 1.05em;
        }

        .situation-box p {
            color: var(--mlpb-dark);
            line-height: 1.6;
        }

        .question-text {
            font-size: 1.1em;
            color: var(--mlpb-gray);
            margin-bottom: 30px;
            line-height: 1.6;
        }

        .options {
            display: flex;
            flex-direction: column;
            gap: 15px;
        }

        .option {
            background: var(--mlpb-light-gray);
            border: 2px solid transparent;
            padding: 20px;
            border-radius: 12px;
            cursor: pointer;
            transition: all 0.3s ease;
            display: flex;
            align-items: center;
            gap: 15px;
        }

        .option:hover {
            border-color: var(--mlpb-blue);
            background: white;
            transform: translateX(5px);
        }

        .option.selected {
            background: var(--mlpb-light-blue);
            border-color: var(--mlpb-blue);
        }

        .option-radio {
            width: 24px;
            height: 24px;
            border: 2px solid var(--mlpb-gray);
            border-radius: 50%;
            flex-shrink: 0;
            position: relative;
        }

        .option.selected .option-radio {
            border-color: var(--mlpb-blue);
        }

        .option.selected .option-radio::after {
            content: '';
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            width: 12px;
            height: 12px;
            background: var(--mlpb-blue);
            border-radius: 50%;
        }

        .option-text {
            flex: 1;
            font-size: 1.05em;
            color: var(--mlpb-dark);
        }

        .navigation {
            display: flex;
            justify-content: space-between;
            padding: 30px;
            border-top: 1px solid #e0e0e0;
        }

        button {
            padding: 14px 32px;
            border: none;
            border-radius: 8px;
            font-size: 1em;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s ease;
        }

        .btn-primary {
            background: var(--mlpb-blue);
            color: white;
        }

        .btn-primary:hover {
            background: #0052a3;
            transform: translateY(-2px);
            box-shadow: 0 4px 12px rgba(0, 102, 204, 0.3);
        }

        .btn-secondary {
            background: var(--mlpb-light-gray);
            color: var(--mlpb-dark);
        }

        .btn-secondary:hover {
            background: #e0e0e0;
        }

        .btn-primary:disabled {
            background: #ccc;
            cursor: not-allowed;
            transform: none;
        }

        .results-container {
            display: none;
            padding: 40px 30px;
        }

        .results-container.active {
            display: block;
            animation: fadeIn 0.5s ease;
        }

        .results-header {
            text-align: center;
            margin-bottom: 40px;
        }

        .results-header h2 {
            font-size: 2em;
            color: var(--mlpb-blue);
            margin-bottom: 10px;
        }

        .overall-score {
            background: linear-gradient(135deg, var(--mlpb-blue), #0088ff);
            color: white;
            padding: 30px;
            border-radius: 12px;
            text-align: center;
            margin-bottom: 40px;
        }

        .overall-score .score-number {
            font-size: 3.5em;
            font-weight: bold;
            margin-bottom: 10px;
        }

        .overall-score .score-label {
            font-size: 1.2em;
            opacity: 0.95;
        }

        .competence-cards {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(280px, 1fr));
            gap: 20px;
            margin-bottom: 40px;
        }

        .competence-card {
            background: white;
            border: 2px solid var(--mlpb-light-gray);
            border-radius: 12px;
            padding: 20px;
            transition: all 0.3s ease;
        }

        .competence-card:hover {
            border-color: var(--mlpb-blue);
            box-shadow: 0 4px 16px rgba(0, 102, 204, 0.1);
        }

        .competence-card h3 {
            font-size: 1.1em;
            color: var(--mlpb-dark);
            margin-bottom: 15px;
        }

        .score-bar {
            background: var(--mlpb-light-gray);
            height: 12px;
            border-radius: 6px;
            overflow: hidden;
            margin-bottom: 10px;
        }

        .score-bar-fill {
            height: 100%;
            border-radius: 6px;
            transition: width 0.6s ease;
        }

        .score-bar-fill.level-1 { background: var(--danger); width: 25%; }
        .score-bar-fill.level-2 { background: var(--warning); width: 50%; }
        .score-bar-fill.level-3 { background: #17a2b8; width: 75%; }
        .score-bar-fill.level-4 { background: var(--success); width: 100%; }

        .score-label {
            font-size: 0.9em;
            color: var(--mlpb-gray);
            font-weight: 600;
        }

        .chart-container {
            background: white;
            border: 2px solid var(--mlpb-light-gray);
            border-radius: 12px;
            padding: 30px;
            margin-bottom: 30px;
        }

        .chart-container h3 {
            text-align: center;
            color: var(--mlpb-blue);
            margin-bottom: 30px;
            font-size: 1.4em;
        }

        canvas {
            max-width: 100%;
            height: auto !important;
        }

        .action-buttons {
            display: flex;
            gap: 15px;
            justify-content: center;
            flex-wrap: wrap;
            margin-top: 30px;
        }

        @media (max-width: 768px) {
            body {
                padding: 10px;
            }

            header h1 {
                font-size: 1.5em;
            }

            header p {
                font-size: 1em;
            }

            .question-title {
                font-size: 1.3em;
            }

            .competence-cards {
                grid-template-columns: 1fr;
            }

            .navigation {
                flex-direction: column;
                gap: 10px;
            }

            button {
                width: 100%;
            }
        }

        .intro-screen {
            padding: 40px 30px;
            text-align: center;
        }

        .intro-screen h2 {
            color: var(--mlpb-blue);
            font-size: 1.8em;
            margin-bottom: 20px;
        }

        .intro-screen p {
            color: var(--mlpb-gray);
            line-height: 1.8;
            margin-bottom: 15px;
            font-size: 1.05em;
        }

        .intro-screen ul {
            text-align: left;
            max-width: 600px;
            margin: 30px auto;
            color: var(--mlpb-dark);
            line-height: 1.8;
        }

        .intro-screen li {
            margin-bottom: 10px;
        }

        .start-button {
            margin-top: 30px;
        }
    </style>
</head>
<body>
    <div class="container">
        <header>
            <h1>üéØ Mes Comp√©tences</h1>
            <p>Auto-diagnostic professionnel - Mission Locale Pays Basque</p>
        </header>

        <!-- √âcran d'introduction -->
        <div id="introScreen" class="intro-screen">
            <h2>D√©couvre tes comp√©tences professionnelles</h2>
            <p>Ce questionnaire t'aide √† identifier tes points forts √† travers des situations concr√®tes du quotidien et du monde professionnel.</p>
            
            <ul>
                <li><strong>28 comp√©tences</strong> issues du r√©f√©rentiel Mission Locale et Pix</li>
                <li><strong>Dur√©e :</strong> environ 10-15 minutes</li>
                <li><strong>Objectif :</strong> mieux te conna√Ætre pour valoriser ton profil</li>
                <li>R√©ponds en pensant √† ce que tu fais vraiment, pas ce que tu voudrais faire</li>
            </ul>

            <button class="btn-primary start-button" onclick="startQuiz()">Commencer l'auto-diagnostic</button>
        </div>

        <!-- Barre de progression -->
        <div id="progressSection" style="display:none;">
            <div class="progress-bar">
                <div class="progress-fill" id="progressBar"></div>
            </div>
            <div class="progress-text" id="progressText">Question 1 sur 28</div>
        </div>

        <!-- Questions -->
        <div id="questionsContainer"></div>

        <!-- Navigation -->
        <div id="navigationSection" class="navigation" style="display:none;">
            <button class="btn-secondary" id="prevBtn" onclick="previousQuestion()">‚Üê Pr√©c√©dent</button>
            <button class="btn-primary" id="nextBtn" onclick="nextQuestion()" disabled>Suivant ‚Üí</button>
        </div>

        <!-- R√©sultats -->
        <div id="resultsContainer" class="results-container">
            <div class="results-header">
                <h2>üìä Ton profil de comp√©tences</h2>
                <p>Voici une vision globale de tes forces professionnelles</p>
            </div>

            <div class="overall-score">
                <div class="score-number" id="overallScore">--</div>
                <div class="score-label">Score global sur 100</div>
            </div>

            <div class="chart-container">
                <h3>Vision radar de tes comp√©tences</h3>
                <canvas id="radarChart"></canvas>
            </div>

            <h3 style="margin-bottom: 20px; color: var(--mlpb-blue);">D√©tail par comp√©tence</h3>
            <div class="competence-cards" id="competenceCards"></div>

            <div class="action-buttons">
                <button class="btn-primary" onclick="window.print()">üìÑ Imprimer mes r√©sultats</button>
                <button class="btn-secondary" onclick="location.reload()">üîÑ Recommencer</button>
            </div>
        </div>
    </div>

    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <script>
        // DONN√âES DES COMP√âTENCES (28 domaines avec mises en situation m√©tiers jeunes)
        const competences = [
            {
                id: 1,
                titre: "Esprit d'analyse",
                situation: "En cuisine, le chef te demande de v√©rifier pourquoi les portions de frites partent trop vite. Comment analyses-tu la situation ?",
                description: "Capacit√© √† examiner une situation, comparer des informations et tirer des conclusions logiques.",
                options: [
                    { text: "Je dis juste qu'on en vend beaucoup, c'est tout", score: 1 },
                    { text: "Je regarde vite fait les quantit√©s servies", score: 2 },
                    { text: "Je compare les portions servies avec ce qui est pr√©vu dans les fiches techniques", score: 3 },
                    { text: "J'analyse les commandes, je v√©rifie les grammages servis, je compare avec les stocks et je propose un ajustement pr√©cis", score: 4 }
                ]
            },
            {
                id: 2,
                titre: "Capacit√© de r√©solution",
                situation: "En plein service, la machine √† caf√© tombe en panne et il y a 10 clients qui attendent. Que fais-tu ?",
                description: "Aptitude √† trouver des solutions concr√®tes face √† un probl√®me impr√©vu.",
                options: [
                    { text: "Je panique et je dis aux clients qu'il n'y a plus de caf√©", score: 1 },
                    { text: "J'appelle le responsable sans chercher de solution", score: 2 },
                    { text: "J'essaie de red√©marrer la machine et je pr√©viens le responsable", score: 3 },
                    { text: "Je propose aux clients d'autres boissons, j'utilise la machine de secours si elle existe, et je pr√©viens la maintenance tout en gardant le service fluide", score: 4 }
                ]
            },
            {
                id: 3,
                titre: "Discernement / Vigilance",
                situation: "En magasin, un client tr√®s pressant te demande de lui faire un avoir sans ticket ni preuve d'achat. Ta r√©action ?",
                description: "Capacit√© √† rep√©rer les situations anormales et √† appliquer les r√®gles de s√©curit√©.",
                options: [
                    { text: "J'accepte pour ne pas avoir de probl√®me", score: 1 },
                    { text: "Je dis que je ne sais pas faire", score: 2 },
                    { text: "Je lui dis qu'il faut un ticket normalement", score: 3 },
                    { text: "J'explique calmement la politique du magasin, je v√©rifie dans le syst√®me s'il y a une trace d'achat et j'appelle un responsable si besoin", score: 4 }
                ]
            },
            {
                id: 4,
                titre: "Aisance relationnelle",
                situation: "Tu arrives pour ton premier jour en salle de restaurant et tu dois servir 30 couverts. Comment abordes-tu les clients ?",
                description: "Facilit√© √† cr√©er du contact, √©changer avec des personnes inconnues et s'adapter.",
                options: [
                    { text: "Je stresse, je reste en retrait et j'√©vite le contact visuel", score: 1 },
                    { text: "Je fais le minimum syndical sans vraiment engager la conversation", score: 2 },
                    { text: "Je souris et je prends les commandes poliment", score: 3 },
                    { text: "Je me pr√©sente avec le sourire, je demande si c'est la premi√®re fois qu'ils viennent, je conseille les plats et je cr√©e une ambiance conviviale", score: 4 }
                ]
            },
            {
                id: 5,
                titre: "Sens de la coop√©ration",
                situation: "En entrep√¥t, un coll√®gue est d√©bord√© sur sa zone de pr√©paration de commandes et prend du retard. Que fais-tu ?",
                description: "Capacit√© √† travailler en √©quipe et √† contribuer √† un objectif commun.",
                options: [
                    { text: "C'est son secteur, je ne m'en m√™le pas", score: 1 },
                    { text: "J'attends qu'il me demande de l'aide", score: 2 },
                    { text: "Je lui demande si √ßa va et je lui file un coup de main rapide", score: 3 },
                    { text: "Je finis rapidement ma zone, je vais le voir et je l'aide √† terminer pour que l'√©quipe respecte les d√©lais de livraison", score: 4 }
                ]
            },
            {
                id: 6,
                titre: "Prise d'initiative",
                situation: "Tu remarques que la r√©serve de sachets en caisse est presque vide alors que c'est samedi apr√®s-midi (forte affluence). Que fais-tu ?",
                description: "Capacit√© √† agir sans attendre qu'on te le demande et √† anticiper les besoins.",
                options: [
                    { text: "J'attends qu'on me dise de r√©approvisionner", score: 1 },
                    { text: "Je pr√©viens juste un coll√®gue", score: 2 },
                    { text: "Je vais chercher un carton de sachets quand j'ai le temps", score: 3 },
                    { text: "Je pr√©viens ma coll√®gue que je vais r√©approvisionner, je ram√®ne plusieurs cartons d'avance et je v√©rifie les autres fournitures de caisse", score: 4 }
                ]
            },
            {
                id: 7,
                titre: "Ma√Ætrise de soi",
                situation: "Un client t'insulte parce que son plat a 5 minutes de retard en cuisine. Comment r√©agis-tu ?",
                description: "Capacit√© √† g√©rer ses √©motions et rester professionnel dans des situations difficiles.",
                options: [
                    { text: "Je lui r√©ponds sur le m√™me ton, il n'a pas √† me parler comme √ßa", score: 1 },
                    { text: "Je suis bless√© et je pars sans rien dire", score: 2 },
                    { text: "Je prends sur moi et je continue √† le servir normalement", score: 3 },
                    { text: "Je garde mon calme, je m'excuse pour l'attente, j'explique la situation et je propose une solution (boisson offerte, acc√©l√©ration), puis j'en parle au manager", score: 4 }
                ]
            },
            {
                id: 8,
                titre: "Pers√©v√©rance",
                situation: "Tu rates 3 fois d'affil√©e le chronom√©trage pour pr√©parer un plateau en cuisine collective (objectif 3 min, tu mets 5 min). Ta r√©action ?",
                description: "Capacit√© √† continuer malgr√© les difficult√©s et √† progresser par la r√©p√©tition.",
                options: [
                    { text: "Je me dis que je ne suis pas fait pour ce m√©tier", score: 1 },
                    { text: "Je continue sans chercher √† comprendre pourquoi je suis lent", score: 2 },
                    { text: "Je demande des conseils √† un coll√®gue", score: 3 },
                    { text: "J'observe les gestes des coll√®gues rapides, je d√©compose les √©tapes, je m'entra√Æne hors service et je m'am√©liore progressivement", score: 4 }
                ]
            },
            {
                id: 9,
                titre: "Affirmation professionnelle",
                situation: "Ton planning affiche 39h cette semaine mais ton manager te demande de faire samedi (non pr√©vu) sans compensation. Que dis-tu ?",
                description: "Capacit√© √† faire respecter ses droits tout en restant constructif.",
                options: [
                    { text: "J'accepte sans rien dire pour garder mon travail", score: 1 },
                    { text: "Je r√¢le dans mon coin mais j'accepte", score: 2 },
                    { text: "Je dis que je pr√©f√®re pas mais que je vais le faire", score: 3 },
                    { text: "J'explique calmement que ce n'√©tait pas pr√©vu, je demande une r√©cup√©ration ou une majoration conform√©ment au contrat et je propose une solution alternative", score: 4 }
                ]
            },
            {
                id: 10,
                titre: "Capacit√© d'apprentissage",
                situation: "Le magasin installe une nouvelle caisse avec syst√®me tactile que tu n'as jamais utilis√©. Comment t'y prends-tu ?",
                description: "Facilit√© √† acqu√©rir de nouvelles comp√©tences techniques rapidement.",
                options: [
                    { text: "Je demande √† toujours travailler sur l'ancienne caisse", score: 1 },
                    { text: "J'essaie un peu mais je laisse tomber si c'est compliqu√©", score: 2 },
                    { text: "Je regarde un coll√®gue faire et je reproduis", score: 3 },
                    { text: "Je teste toutes les fonctions, je prends des notes, je pose des questions pr√©cises et je m'entra√Æne hors affluence jusqu'√† √™tre √† l'aise", score: 4 }
                ]
            },
            {
                id: 11,
                titre: "Cr√©ativit√© appliqu√©e",
                situation: "En boulangerie, il reste 15 croissants invendus 30 min avant la fermeture. Comment les valorises-tu ?",
                description: "Capacit√© √† trouver des solutions originales face √† des contraintes commerciales.",
                options: [
                    { text: "Je les mets de c√¥t√©, on verra demain", score: 1 },
                    { text: "Je baisse le prix de 10% et j'attends", score: 2 },
                    { text: "Je fais une petite promotion -30%", score: 3 },
                    { text: "Je cr√©e une offre flash '3 pour le prix de 2', je l'affiche en vitrine, je le propose activement aux derniers clients et je mets en avant le fait maison/fra√Æcheur du jour", score: 4 }
                ]
            },
            {
                id: 12,
                titre: "Ouverture d'esprit",
                situation: "Un nouveau coll√®gue √©tranger range les stocks diff√©remment de toi (mais de fa√ßon logique aussi). Comment r√©agis-tu ?",
                description: "Capacit√© √† accepter la diff√©rence et √† remettre en question ses habitudes.",
                options: [
                    { text: "Je lui dis de faire comme moi, c'est mieux", score: 1 },
                    { text: "Je trouve √ßa bizarre mais je ne dis rien", score: 2 },
                    { text: "Je laisse faire et je m'adapte", score: 3 },
                    { text: "Je lui demande d'expliquer sa logique, je compare avec la mienne et on trouve ensemble la m√©thode la plus efficace pour l'√©quipe", score: 4 }
                ]
            },
            {
                id: 13,
                titre: "Organisation personnelle",
                situation: "Tu travailles mardi, jeudi et samedi cette semaine + tu as une formation France Travail mercredi. Comment t'organises-tu ?",
                description: "Capacit√© √† planifier et g√©rer plusieurs engagements en m√™me temps.",
                options: [
                    { text: "Je ne note rien, je g√®re au jour le jour", score: 1 },
                    { text: "Je note vaguement dans ma t√™te mais je confonds parfois", score: 2 },
                    { text: "Je note tout dans mon t√©l√©phone", score: 3 },
                    { text: "Je mets tout dans mon agenda avec alertes, je pr√©pare mes affaires la veille, je pr√©vois mes transports et je v√©rifie qu'il n'y a pas de chevauchement", score: 4 }
                ]
            },
            {
                id: 14,
                titre: "Autonomie d√©cisionnelle",
                situation: "En drive, une cliente dit qu'il manque un produit dans sa commande, mais ton scan indique que tout est l√†. Le responsable est en pause. Que fais-tu ?",
                description: "Capacit√© √† prendre des d√©cisions responsables sans supervision imm√©diate.",
                options: [
                    { text: "Je dis √† la cliente de revenir quand le responsable sera l√†", score: 1 },
                    { text: "Je refuse cat√©goriquement, le scan dit que c'est bon", score: 2 },
                    { text: "J'h√©site et je lui demande d'attendre 5 minutes", score: 3 },
                    { text: "Je v√©rifie calmement avec elle article par article, si doute j'applique la politique de confiance du magasin (remplacement), je note l'incident pour le responsable", score: 4 }
                ]
            },
            {
                id: 15,
                titre: "Agilit√© professionnelle",
                situation: "En plein rush en salle, la cuisine te demande de changer de secteur car un serveur est absent. Comment r√©agis-tu ?",
                description: "Capacit√© √† s'adapter rapidement aux changements et √† changer de mission.",
                options: [
                    { text: "Je dis que c'est pas possible, je connais pas ce secteur", score: 1 },
                    { text: "Je r√¢le mais j'accepte et je fais n'importe quoi", score: 2 },
                    { text: "J'accepte et je fais de mon mieux", score: 3 },
                    { text: "J'accepte directement, je demande 1 minute pour qu'on me brieffe sur les tables en cours, je reprends le fil et j'assure le service", score: 4 }
                ]
            },
            {
                id: 16,
                titre: "Responsabilit√© num√©rique",
                situation: "Un client te donne ses codes de carte de fid√©lit√© pour que tu lui ajoutes des points directement. Que fais-tu ?",
                description: "Conscience de la s√©curit√© des donn√©es personnelles et des bonnes pratiques.",
                options: [
                    { text: "Je prends ses codes et j'ajoute les points comme il demande", score: 1 },
                    { text: "Je les note sur un papier que je laisse en caisse", score: 2 },
                    { text: "Je lui dis que je pr√©f√®re pas garder ses codes", score: 3 },
                    { text: "J'explique que pour sa s√©curit√© je ne peux pas garder ses codes, je lui montre comment faire sur son appli ou la borne, et je l'aide √† le faire lui-m√™me", score: 4 }
                ]
            },
            {
                id: 17,
                titre: "Usage raisonn√© de l'IA",
                situation: "Tu dois cr√©er une affiche promotionnelle pour la boulangerie. Comment utilises-tu une IA de cr√©ation d'image ?",
                description: "Capacit√© √† utiliser l'IA comme outil d'aide en gardant le contr√¥le cr√©atif.",
                options: [
                    { text: "Je g√©n√®re une image et je l'imprime directement sans r√©fl√©chir", score: 1 },
                    { text: "Je g√©n√®re 2-3 images et je choisis la plus jolie", score: 2 },
                    { text: "Je g√©n√®re des propositions et j'ajoute les textes moi-m√™me", score: 3 },
                    { text: "Je d√©finis d'abord mon message et mon style, je teste plusieurs prompts, je s√©lectionne le meilleur r√©sultat que je personnalise avec les infos du magasin et je valide avec mon responsable", score: 4 }
                ]
            },
            {
                id: 18,
                titre: "Conscience environnementale",
                situation: "En fin de service au restaurant, il reste de la nourriture pr√©par√©e qui va √™tre jet√©e. Que proposes-tu ?",
                description: "Engagement pour r√©duire le gaspillage et l'impact environnemental.",
                options: [
                    { text: "C'est normal, on jette tout comme d'habitude", score: 1 },
                    { text: "Je trouve √ßa dommage mais c'est pas mon r√¥le", score: 2 },
                    { text: "Je propose qu'on se partage les restes entre coll√®gues", score: 3 },
                    { text: "Je propose un syst√®me : donner aux associations (Too Good To Go, banques alimentaires), ajuster les quantit√©s pr√©par√©es, congeler certains produits r√©utilisables", score: 4 }
                ]
            },
            {
                id: 19,
                titre: "Ponctualit√© / Assiduit√©",
                situation: "Tu travailles en 2x8 cette semaine : prise de poste √† 6h le lundi. √Ä quelle heure te l√®ves-tu pour √™tre s√ªr d'arriver √† l'heure ?",
                description: "Respect des horaires et anticipation des contraintes personnelles.",
                options: [
                    { text: "5h45, je fonce direct", score: 1 },
                    { text: "5h30, normalement √ßa passe", score: 2 },
                    { text: "5h15, pour avoir un peu de marge", score: 3 },
                    { text: "5h00 : je pr√©vois temps de pr√©paration, trajet, impr√©vus (bus en retard), et j'arrive 10 min avant pour me changer et prendre mon poste √† l'heure", score: 4 }
                ]
            },
            {
                id: 20,
                titre: "Respect des codes professionnels",
                situation: "Tu commences en h√¥tel d'affaires (poste d'accueil). On ne t'a rien dit sur la tenue. Comment t'habilles-tu pour le 1er jour ?",
                description: "Capacit√© √† adapter sa pr√©sentation au contexte professionnel.",
                options: [
                    { text: "Comme d'habitude : jogging, sweat, baskets", score: 1 },
                    { text: "Jean propre et polo", score: 2 },
                    { text: "Tenue d√©contract√©e mais correcte", score: 3 },
                    { text: "J'ai cherch√© des photos de l'h√¥tel en ligne, je viens en tenue professionnelle (chemise/chemisier, pantalon sobre, chaussures de ville propres)", score: 4 }
                ]
            },
            {
                id: 21,
                titre: "Sens de la confidentialit√©",
                situation: "Tu travailles en boutique de t√©l√©phonie. Un client connu laisse son t√©l√©phone en r√©paration. Tes amis te demandent ce qu'il a dedans.",
                description: "Respect du secret professionnel et de la vie priv√©e des clients.",
                options: [
                    { text: "Je raconte tout, c'est trop styl√© de l'avoir vu", score: 1 },
                    { text: "Je dis juste qu'il est venu sans donner de d√©tails", score: 2 },
                    { text: "Je dis que je ne peux rien dire", score: 3 },
                    { text: "Je rappelle que j'ai un devoir de confidentialit√© total sur les clients et leurs donn√©es, comme tout professionnel, et je refuse cat√©goriquement d'en parler", score: 4 }
                ]
            },
            {
                id: 22,
                titre: "Pr√©vention des risques professionnels",
                situation: "En entrep√¥t, tu vois un coll√®gue porter seul un colis de 30kg alors que la proc√©dure dit 'port √† deux au-del√† de 20kg'. Que fais-tu ?",
                description: "Vigilance face aux dangers et respect des r√®gles de s√©curit√©.",
                options: [
                    { text: "C'est son probl√®me, je ne dis rien", score: 1 },
                    { text: "Je trouve √ßa risqu√© mais je le laisse faire", score: 2 },
                    { text: "Je lui dis de faire attention", score: 3 },
                    { text: "J'interviens directement : je vais l'aider √† porter, je rappelle la consigne de s√©curit√© et j'en parle au responsable si √ßa se reproduit", score: 4 }
                ]
            },
            {
                id: 23,
                titre: "Gestion du capital sant√©",
                situation: "Tu encha√Ænes 6 jours de travail debout en magasin, tu as mal au dos et aux pieds, tu es √©puis√©. Que fais-tu ?",
                description: "Conscience de ses limites et pr√©servation de sa sant√© physique.",
                options: [
                    { text: "Je continue en serrant les dents jusqu'√† l'accident", score: 1 },
                    { text: "Je prends des anti-douleurs tous les jours", score: 2 },
                    { text: "Je me repose le jour de repos mais je ne change rien", score: 3 },
                    { text: "J'en parle √† mon responsable, je vois un m√©decin, je demande un am√©nagement de poste (alternance debout/assis, chaussures adapt√©es), et je v√©rifie mes droits", score: 4 }
                ]
            },
            {
                id: 24,
                titre: "Intelligence interculturelle",
                situation: "En h√¥tellerie, un client japonais s'incline en te tendant sa carte bancaire. Comment r√©agis-tu ?",
                description: "Capacit√© √† comprendre et respecter les codes culturels diff√©rents.",
                options: [
                    { text: "Je trouve √ßa bizarre et je prends la carte normalement", score: 1 },
                    { text: "Je prends la carte sans rien faire de sp√©cial", score: 2 },
                    { text: "Je souris poliment et je prends la carte avec respect", score: 3 },
                    { text: "Je reconnais le geste de respect japonais, je m'incline l√©g√®rement en retour, je prends la carte √† deux mains et je le remercie dans sa langue si possible", score: 4 }
                ]
            },
            {
                id: 25,
                titre: "M√©diation / Communication Non Violente",
                situation: "Deux coll√®gues de cuisine se disputent violemment sur qui a br√ªl√© la sauce. L'ambiance est tendue. Comment interviens-tu ?",
                description: "Capacit√© √† d√©samorcer les conflits et faciliter le dialogue.",
                options: [
                    { text: "Je reste en dehors, c'est leur probl√®me", score: 1 },
                    { text: "Je dis que celui que je connais le mieux a raison", score: 2 },
                    { text: "Je leur demande d'arr√™ter de crier", score: 3 },
                    { text: "J'interviens calmement, je propose qu'on finisse le service d'abord, puis je les aide √† discuter au calme en √©coutant les deux versions sans juger et en recentrant sur la solution", score: 4 }
                ]
            },
            {
                id: 26,
                titre: "Compr√©hension du cadre contractuel",
                situation: "Le supermarch√© te propose un contrat 30h/semaine. Quels √©l√©ments v√©rifies-tu avant de signer ?",
                description: "Connaissance de ses droits et devoirs en tant que salari√©.",
                options: [
                    { text: "Je regarde juste le salaire et je signe", score: 1 },
                    { text: "Je v√©rifie le salaire et les horaires", score: 2 },
                    { text: "Je lis le contrat mais sans tout comprendre", score: 3 },
                    { text: "Je v√©rifie : type de contrat, dur√©e, p√©riode d'essai, salaire brut/net, horaires, jours de repos, tickets resto, mutuelle, primes, clause de mobilit√©, et je pose des questions sur ce que je ne comprends pas", score: 4 }
                ]
            },
            {
                id: 27,
                titre: "Autonomie administrative",
                situation: "Tu dois actualiser ta situation France Travail et d√©clarer tes heures travaill√©es en CDD. Comment proc√®des-tu ?",
                description: "Capacit√© √† g√©rer ses d√©marches administratives de mani√®re autonome.",
                options: [
                    { text: "Je ne fais rien, c'est trop compliqu√©", score: 1 },
                    { text: "J'attends que la Mission Locale le fasse pour moi", score: 2 },
                    { text: "Je me fais aider √† chaque fois par quelqu'un", score: 3 },
                    { text: "Je me connecte sur mon espace France Travail, je renseigne mes heures avec les bulletins de paie, je v√©rifie que tout est correct et je valide dans les d√©lais", score: 4 }
                ]
            },
            {
                id: 28,
                titre: "Connaissance du territoire / Ressources",
                situation: "Un coll√®gue cherche une formation en vente mais ne sait pas par o√π commencer. Que lui conseilles-tu ?",
                description: "Connaissance des structures locales et capacit√© √† orienter.",
                options: [
                    { text: "Je ne sais pas, d√©brouille-toi", score: 1 },
                    { text: "Je lui dis de chercher sur internet", score: 2 },
                    { text: "Je lui conseille d'aller √† France Travail", score: 3 },
                    { text: "Je lui conseille Mission Locale (si -26 ans), France Travail, CFA/GRETA, je lui donne les contacts pr√©cis du territoire et je lui explique comment prendre RDV", score: 4 }
                ]
            }
        ];

        let currentQuestion = 0;
        let answers = {};

        function startQuiz() {
            document.getElementById('introScreen').style.display = 'none';
            document.getElementById('progressSection').style.display = 'block';
            document.getElementById('navigationSection').style.display = 'flex';
            renderQuestions();
            showQuestion(0);
        }

        function renderQuestions() {
            const container = document.getElementById('questionsContainer');
            container.innerHTML = '';

            competences.forEach((comp, index) => {
                const questionDiv = document.createElement('div');
                questionDiv.className = 'question-container';
                questionDiv.id = `question-${index}`;

                let optionsHTML = '';
                comp.options.forEach((option, optIndex) => {
                    optionsHTML += `
                        <div class="option" onclick="selectOption(${index}, ${option.score})">
                            <div class="option-radio"></div>
                            <div class="option-text">${option.text}</div>
                        </div>
                    `;
                });

                questionDiv.innerHTML = `
                    <div class="question-header">
                        <div class="question-number">Question ${index + 1} / ${competences.length}</div>
                        <h2 class="question-title">${comp.titre}</h2>
                        <p class="question-text">${comp.description}</p>
                    </div>
                    <div class="situation-box">
                        <strong>üí° Mets-toi en situation :</strong>
                        <p>${comp.situation}</p>
                    </div>
                    <div class="options" id="options-${index}">
                        ${optionsHTML}
                    </div>
                `;

                container.appendChild(questionDiv);
            });
        }

        function showQuestion(index) {
            document.querySelectorAll('.question-container').forEach(q => {
                q.classList.remove('active');
            });
            document.getElementById(`question-${index}`).classList.add('active');

            updateProgress();
            updateNavigation();
        }

        function selectOption(questionIndex, score) {
            answers[questionIndex] = score;

            // Mettre √† jour visuellement
            const options = document.querySelectorAll(`#options-${questionIndex} .option`);
            options.forEach(opt => opt.classList.remove('selected'));
            event.currentTarget.classList.add('selected');

            // Activer le bouton suivant
            document.getElementById('nextBtn').disabled = false;
        }

        function updateProgress() {
            const progress = ((currentQuestion + 1) / competences.length) * 100;
            document.getElementById('progressBar').style.width = progress + '%';
            document.getElementById('progressText').textContent = `Question ${currentQuestion + 1} sur ${competences.length}`;
        }

        function updateNavigation() {
            const prevBtn = document.getElementById('prevBtn');
            const nextBtn = document.getElementById('nextBtn');

            prevBtn.disabled = currentQuestion === 0;

            if (currentQuestion === competences.length - 1) {
                nextBtn.textContent = 'Voir mes r√©sultats üéØ';
            } else {
                nextBtn.textContent = 'Suivant ‚Üí';
            }

            // V√©rifier si une r√©ponse est s√©lectionn√©e
            if (answers[currentQuestion] !== undefined) {
                nextBtn.disabled = false;
                // R√©appliquer la classe selected
                const selectedScore = answers[currentQuestion];
                const options = document.querySelectorAll(`#options-${currentQuestion} .option`);
                options.forEach(opt => {
                    const scoreText = opt.querySelector('.option-text').textContent;
                    const matchingOption = competences[currentQuestion].options.find(o => o.text === scoreText);
                    if (matchingOption && matchingOption.score === selectedScore) {
                        opt.classList.add('selected');
                    }
                });
            } else {
                nextBtn.disabled = true;
            }
        }

        function nextQuestion() {
            if (currentQuestion < competences.length - 1) {
                currentQuestion++;
                showQuestion(currentQuestion);
            } else {
                showResults();
            }
        }

        function previousQuestion() {
            if (currentQuestion > 0) {
                currentQuestion--;
                showQuestion(currentQuestion);
            }
        }

        function showResults() {
            document.getElementById('progressSection').style.display = 'none';
            document.getElementById('questionsContainer').style.display = 'none';
            document.getElementById('navigationSection').style.display = 'none';
            document.getElementById('resultsContainer').classList.add('active');

            calculateResults();
        }

        function calculateResults() {
            // Calcul du score global
            const totalScore = Object.values(answers).reduce((sum, score) => sum + score, 0);
            const maxScore = competences.length * 4;
            const percentage = Math.round((totalScore / maxScore) * 100);

            document.getElementById('overallScore').textContent = percentage;

            // Cr√©er les cartes de comp√©tences
            const cardsContainer = document.getElementById('competenceCards');
            cardsContainer.innerHTML = '';

            const radarLabels = [];
            const radarData = [];

            competences.forEach((comp, index) => {
                const score = answers[index] || 0;
                const level = score;
                const levelClass = `level-${level}`;
                const levelText = ['Non √©valu√©', '√Ä d√©velopper', 'En cours', 'Bien acquis', 'Ma√Ætris√©'][level];

                const card = document.createElement('div');
                card.className = 'competence-card';
                card.innerHTML = `
                    <h3>${comp.titre}</h3>
                    <div class="score-bar">
                        <div class="score-bar-fill ${levelClass}"></div>
                    </div>
                    <div class="score-label">${levelText}</div>
                `;
                cardsContainer.appendChild(card);

                radarLabels.push(comp.titre);
                radarData.push(score);
            });

            // Cr√©er le graphique radar
            createRadarChart(radarLabels, radarData);
        }

        function createRadarChart(labels, data) {
            const ctx = document.getElementById('radarChart').getContext('2d');
            new Chart(ctx, {
                type: 'radar',
                data: {
                    labels: labels,
                    datasets: [{
                        label: 'Niveau de ma√Ætrise',
                        data: data,
                        backgroundColor: 'rgba(0, 102, 204, 0.2)',
                        borderColor: 'rgba(0, 102, 204, 1)',
                        borderWidth: 2,
                        pointBackgroundColor: 'rgba(0, 102, 204, 1)',
                        pointBorderColor: '#fff',
                        pointHoverBackgroundColor: '#fff',
                        pointHoverBorderColor: 'rgba(0, 102, 204, 1)'
                    }]
                },
                options: {
                    responsive: true,
                    maintainAspectRatio: true,
                    scales: {
                        r: {
                            beginAtZero: true,
                            max: 4,
                            min: 0,
                            ticks: {
                                stepSize: 1,
                                callback: function(value) {
                                    const labels = ['', '√Ä d√©velopper', 'En cours', 'Bien acquis', 'Ma√Ætris√©'];
                                    return labels[value] || '';
                                }
                            },
                            pointLabels: {
                                font: {
                                    size: 11
                                }
                            }
                        }
                    },
                    plugins: {
                        legend: {
                            display: false
                        },
                        tooltip: {
                            callbacks: {
                                label: function(context) {
                                    const labels = ['Non √©valu√©', '√Ä d√©velopper', 'En cours', 'Bien acquis', 'Ma√Ætris√©'];
                                    return labels[context.parsed.r] || '';
                                }
                            }
                        }
                    }
                }
            });
        }
    </script>
</body>
</html>
